{"version":3,"sources":["components/Banner.tsx","components/Content.tsx","components/Menu.tsx","components/NewsList.tsx","App.tsx","index.tsx"],"names":["Banner","props","documentRef","component","getModels","document","page","getContent","getData","content","imageRef","image","linkRef","link","title","className","isPreview","src","getUrl","alt","dangerouslySetInnerHTML","__html","rewriteLinks","value","to","role","Content","author","date","Date","toDateString","MenuLink","item","React","useContext","BrPageContext","_links","site","type","TYPE_LINK_EXTERNAL","href","name","Menu","BrComponentContext","menu","siteMenuItems","map","index","key","selected","NewsList","pageable","items","reference","NewsListItem","NewsListPagination","introduction","showPagination","url","includes","aria-label","previous","previousPage","aria-hidden","pageNumbersArray","currentPage","next","nextPage","axios","interceptors","request","use","config","withCredentials","ReactDOM","render","path","configuration","httpClient","options","live","cmsBaseUrl","process","spaBaseUrl","preview","location","pathname","search","mapping","Consumer","getTitle","getElementById"],"mappings":"mRAoBO,SAASA,EAAOC,GAAiB,IACpBC,EAAgBD,EAAME,UAAUC,YAA1CC,SACFA,EAAWH,GAAeD,EAAMK,KAAKC,WAAWL,GAEtD,IAAKG,EACH,OAAO,KAL4B,MAQsBA,EAASG,UAA5DC,EAR6B,EAQ7BA,QAAgBC,EARa,EAQpBC,MAAuBC,EARH,EAQHC,KAAeC,EARZ,EAQYA,MAC3CH,EAAQD,GAAYT,EAAMK,KAAKC,WAAWG,GAC1CG,EAAOD,GAAWX,EAAMK,KAAKC,WAAWK,GAE9C,OACE,yBAAKG,UAAS,yBAAoBd,EAAMK,KAAKU,YAAc,kBAAoB,KAC7E,kBAAC,wBAAD,CAAuBP,QAASJ,IAC9BS,GAAS,4BAAKA,GACdH,GAAS,yBAAKI,UAAU,YAAYE,IAAKN,EAAMO,SAAUC,IAAKL,IAC9DL,GAAW,yBAAKW,wBAAyB,CAAEC,OAAQpB,EAAMK,KAAKgB,aAAab,EAAQc,UACnFV,GACA,uBAAGE,UAAU,QACX,kBAAC,IAAD,CAAMS,GAAIX,EAAKK,SAAWH,UAAU,yBAAyBU,KAAK,UAAlE,gBCrBH,SAASC,EAAQzB,GAAiB,IACrBC,EAAgBD,EAAME,UAAUC,YAA1CC,SACFA,EAAWH,GAAeD,EAAMK,KAAKC,WAAWL,GAEtD,IAAKG,EACH,OAAO,KAL6B,MAQoBA,EAASG,UAA3DmB,EAR8B,EAQ9BA,OAAQlB,EARsB,EAQtBA,QAASmB,EARa,EAQbA,KAAalB,EARA,EAQPC,MAAiBG,EARV,EAQUA,MAC1CH,EAAQD,GAAYT,EAAMK,KAAKC,WAAWG,GAEhD,OACE,yBAAKK,UAAWd,EAAMK,KAAKU,YAAc,kBAAoB,IAC3D,kBAAC,wBAAD,CAAuBP,QAASJ,IAC9BM,GAAS,yBAAKI,UAAU,iBAAiBE,IAAKN,EAAMO,SAAUC,IAAKL,IACnEA,GAAS,4BAAKA,GACda,GAAU,uBAAGZ,UAAU,mBAAmBY,GAC1CC,GAAQ,uBAAGb,UAAU,yBAAyB,IAAIc,KAAKD,GAAME,gBAC7DrB,GAAW,yBAAKW,wBAAyB,CAAEC,OAAQpB,EAAMK,KAAKgB,aAAab,EAAQc,W,YCZ3F,SAASQ,EAAT,GAA4C,IAAxBC,EAAuB,EAAvBA,KACZ1B,EAAO2B,IAAMC,WAAWC,iBAE9B,OAAKH,EAAKI,OAAOC,KAIbL,EAAKI,OAAOC,KAAKC,OAASC,qBACrB,uBAAGxB,UAAU,2BAA2ByB,KAAMR,EAAKI,OAAOC,KAAKG,MAAOR,EAAKS,MAG7E,kBAAC,IAAD,CAAMjB,GAAIlB,EAAKY,OAAOc,EAAKI,OAAOC,MAAOtB,UAAU,4BAA4BiB,EAAKS,MAPlF,0BAAM1B,UAAU,qCAAqCiB,EAAKS,MAU9D,SAASC,IACd,IAAMvC,EAAY8B,IAAMC,WAAWS,sBAC7BrC,EAAO2B,IAAMC,WAAWC,iBAC9B,IAAKhC,IAAcG,EACjB,OAAO,KAJY,IAObsC,EAASzC,EAAUC,YAAnBwC,KAER,OACE,wBAAI7B,UAAS,4BAAuBT,EAAKU,YAAc,kBAAoB,KACzE,kBAAC,qBAAD,CAAoB4B,KAAMA,IACxBA,EAAKC,cAAcC,KAAI,SAACd,EAAMe,GAAP,OACvB,wBAAIC,IAAKD,EAAOhC,UAAS,mBAAciB,EAAKiB,SAAW,SAAW,KAChE,kBAAClB,EAAD,CAAUC,KAAMA,SChCnB,SAASkB,EAASjD,GAAiB,IAChCkD,EAAalD,EAAME,UAAUC,YAA7B+C,SAER,OAAKA,EAKH,6BACIA,EAASC,MAAMN,KAAI,SAACO,EAAWL,GAAZ,OAAoB,kBAACM,EAAD,CAAcN,IAAKA,EAAKhB,KAAM/B,EAAMK,KAAKC,WAAW8C,QAC7F,kBAACE,EAAuBJ,IANnB,KAeJ,SAASG,EAAT,GAAoD,IAA5BtB,EAA2B,EAA3BA,KAA2B,EACVA,EAAKxB,UAA3CmB,EADgD,EAChDA,OAAQC,EADwC,EACxCA,KAAM4B,EADkC,EAClCA,aAAc1C,EADoB,EACpBA,MAEpC,OACE,yBAAKC,UAAU,aACb,kBAAC,wBAAD,CAAuBN,QAASuB,IAChC,yBAAKjB,UAAU,aACXD,GACA,wBAAIC,UAAU,cACZ,kBAAC,IAAD,CAAMS,GAAIQ,EAAKd,UAAYJ,IAG7Ba,GAAU,yBAAKZ,UAAU,iCAAiCY,GAC1DC,GAAQ,yBAAKb,UAAU,uCAAuC,IAAIc,KAAKD,GAAME,gBAC7E0B,GAAgB,uBAAGzC,UAAU,aAAayC,KAM7C,SAASD,EAAmBtD,GACjC,IAAMK,EAAO2B,IAAMC,WAAWC,iBAE9B,IAAK7B,IAASL,EAAMwD,eAClB,OAAO,KAGT,IAAMC,EAAMpD,EAAKY,SACXA,EAAS,SAACZ,GAAD,gBAAqBoD,GAArB,OAA2BA,EAAIC,SAAS,KAAO,IAAM,IAArD,gBAAgErD,IAE/E,OACE,yBAAKsD,aAAW,wBACd,wBAAI7C,UAAU,cACZ,wBAAIA,UAAS,oBAAed,EAAM4D,SAAW,GAAK,aAChD,kBAAC,IAAD,CAAMrC,GAAIvB,EAAM4D,SAAW3C,EAAOjB,EAAM6D,cAAiB,IAAK/C,UAAU,YAAY6C,aAAW,YAC7F,0BAAMG,cAAY,QAAlB,QACA,0BAAMhD,UAAU,WAAhB,cAGFd,EAAM+D,iBAAiBlB,KAAI,SAACxC,EAAM0C,GAAP,OAC3B,wBAAIA,IAAKA,EAAKjC,UAAS,oBAAeT,IAASL,EAAMgE,YAAc,SAAW,KAC5E,kBAAC,IAAD,CAAMzC,GAAIN,EAAOZ,GAAOS,UAAU,aAAaT,OAGnD,wBAAIS,UAAS,oBAAed,EAAMiE,KAAO,GAAK,aAC5C,kBAAC,IAAD,CAAM1C,GAAIvB,EAAMiE,KAAOhD,EAAOjB,EAAMkE,UAAa,IAAKpD,UAAU,YAAY6C,aAAW,QACrF,0BAAMG,cAAY,QAAlB,QACA,0BAAMhD,UAAU,WAAhB,YCjEZqD,IAAMC,aAAaC,QAAQC,KAAI,SAAAC,GAAM,sBAAUA,EAAV,CAAkBC,iBAAiB,OCKxEC,IAASC,OACP,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOC,KAAK,QAAQzE,UDNX,SAAaF,GAC1B,IAAM4E,EAAgB,CACpBC,WAAYV,IACZW,QAAS,CACPC,KAAM,CACJC,WAAYC,6BACZC,WAAYD,IAEdE,QAAS,CACPH,WAAYC,0CACZC,WAAYD,+CAGhBZ,QAAS,CACPM,KAAK,GAAD,OAAK3E,EAAMoF,SAASC,UAApB,OAA+BrF,EAAMoF,SAASE,UAGhDC,EAAU,CAAExF,SAAQ0B,UAAS,YAAawB,GAEhD,OACE,kBAAC,SAAD,CAAQ2B,cAAeA,EAAeW,QAASA,GAC7C,gCACE,yBAAKzE,UAAU,yDAAyDU,KAAK,cAC3E,yBAAKV,UAAU,aACb,kBAAC,gBAAc0E,SAAf,MACI,SAAAnF,GAAI,OACJ,kBAAC,IAAD,CAAMkB,GAAIlB,EAAMY,OAAO,KAAMH,UAAU,gBACnCT,EAAMoF,YAAc,yCAI5B,yBAAK3E,UAAU,4BACb,kBAAC,cAAD,CAAa6D,KAAK,QAChB,kBAAClC,EAAD,WAMV,6BAAS3B,UAAU,4BACjB,kBAAC,cAAD,CAAa6D,KAAK,UAEpB,4BAAQ7D,UAAU,2BAChB,yBAAKA,UAAU,sBACb,yBAAKA,UAAU,mBAAf,iCACA,yBAAKA,UAAU,mBACb,kBAAC,cAAD,CAAa6D,KAAK,kBCvCxB,kBAAC,IAAD,CAAUpD,GAAG,QAGjBnB,SAASsF,eAAe,W","file":"static/js/main.c365be4b.chunk.js","sourcesContent":["/*\n * Copyright 2019 Hippo B.V. (http://www.onehippo.com)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { BrManageContentButton, BrProps } from '@bloomreach/react-sdk';\n\nexport function Banner(props: BrProps) {\n  const { document: documentRef } = props.component.getModels();\n  const document = documentRef && props.page.getContent(documentRef);\n\n  if (!document) {\n    return null;\n  }\n\n  const { content, image: imageRef, link: linkRef, title } = document.getData<DocumentData>();\n  const image = imageRef && props.page.getContent(imageRef);\n  const link = linkRef && props.page.getContent(linkRef);\n\n  return (\n    <div className={`jumbotron mb-3 ${props.page.isPreview() ? 'has-edit-button' : ''}`}>\n      <BrManageContentButton content={document} />\n      { title && <h1>{title}</h1> }\n      { image && <img className=\"img-fluid\" src={image.getUrl()} alt={title} /> }\n      { content && <div dangerouslySetInnerHTML={{ __html: props.page.rewriteLinks(content.value) }} /> }\n      { link && (\n        <p className=\"lead\">\n          <Link to={link.getUrl()!} className=\"btn btn-primary btn-lg\" role=\"button\">Learn more</Link>\n        </p>\n      ) }\n    </div>\n  );\n}\n","/*\n * Copyright 2019 Hippo B.V. (http://www.onehippo.com)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport { BrManageContentButton, BrProps } from '@bloomreach/react-sdk';\n\nexport function Content(props: BrProps) {\n  const { document: documentRef } = props.component.getModels<DocumentModels>();\n  const document = documentRef && props.page.getContent(documentRef);\n\n  if (!document) {\n    return null;\n  }\n\n  const { author, content, date, image: imageRef, title } = document.getData<DocumentData>();\n  const image = imageRef && props.page.getContent(imageRef);\n\n  return (\n    <div className={props.page.isPreview() ? 'has-edit-button' : ''}>\n      <BrManageContentButton content={document} />\n      { image && <img className=\"img-fluid mb-3\" src={image.getUrl()} alt={title} /> }\n      { title && <h1>{title}</h1> }\n      { author && <p className=\"mb-3 text-muted\">{author}</p> }\n      { date && <p className=\"mb-3 small text-muted\">{new Date(date).toDateString()}</p> }\n      { content && <div dangerouslySetInnerHTML={{ __html: props.page.rewriteLinks(content.value) }} /> }\n    </div>\n  );\n}\n","/*\n * Copyright 2019 Hippo B.V. (http://www.onehippo.com)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { TYPE_LINK_EXTERNAL } from '@bloomreach/spa-sdk';\nimport { BrComponentContext, BrManageMenuButton, BrPageContext } from '@bloomreach/react-sdk';\n\ninterface MenuLinkProps {\n  item: MenuModels['menu']['siteMenuItems'][0];\n}\n\nfunction MenuLink({ item }: MenuLinkProps) {\n  const page = React.useContext(BrPageContext)!;\n\n  if (!item._links.site) {\n    return <span className=\"nav-link text-capitalize disabled\">{item.name}</span>;\n  }\n\n  if (item._links.site.type === TYPE_LINK_EXTERNAL) {\n    return <a className=\"nav-link text-capitalize\" href={item._links.site.href}>{item.name}</a>;\n  }\n\n  return <Link to={page.getUrl(item._links.site)} className=\"nav-link text-capitalize\">{item.name}</Link>;\n}\n\nexport function Menu() {\n  const component = React.useContext(BrComponentContext);\n  const page = React.useContext(BrPageContext);\n  if (!component || !page) {\n    return null;\n  }\n\n  const { menu } = component.getModels<MenuModels>();\n\n  return (\n    <ul className={`navbar-nav col-12 ${page.isPreview() ? 'has-edit-button' : ''}`}>\n      <BrManageMenuButton menu={menu} />\n      { menu.siteMenuItems.map((item, index) => (\n        <li key={index} className={`nav-item ${item.selected ? 'active' : ''}`}>\n          <MenuLink item={item} />\n        </li>\n      )) }\n    </ul>\n  );\n}\n","/*\n * Copyright 2019 Hippo B.V. (http://www.onehippo.com)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Content } from '@bloomreach/spa-sdk';\nimport { BrManageContentButton, BrPageContext, BrProps } from '@bloomreach/react-sdk';\n\nexport function NewsList(props: BrProps) {\n  const { pageable } = props.component.getModels<PageableModels>();\n\n  if (!pageable) {\n    return null;\n  }\n\n  return (\n    <div>\n      { pageable.items.map((reference, key) => <NewsListItem key={key} item={props.page.getContent(reference)!} />) }\n      <NewsListPagination {...pageable} />\n    </div>\n  );\n}\n\ninterface NewsListItemProps {\n  item: Content;\n}\n\nexport function NewsListItem({ item }: NewsListItemProps) {\n  const { author, date, introduction, title } = item.getData<DocumentData>();\n\n  return (\n    <div className=\"card mb-3\">\n      <BrManageContentButton content={item} />\n      <div className=\"card-body\">\n        { title && (\n          <h2 className=\"card-title\">\n            <Link to={item.getUrl()!}>{title}</Link>\n          </h2>\n        ) }\n        { author && <div className=\"card-subtitle mb-3 text-muted\">{author}</div> }\n        { date && <div className=\"card-subtitle mb-3 small text-muted\">{new Date(date).toDateString()}</div> }\n        { introduction && <p className=\"card-text\">{introduction}</p> }\n      </div>\n    </div>\n  );\n}\n\nexport function NewsListPagination(props: Pageable) {\n  const page = React.useContext(BrPageContext);\n\n  if (!page || !props.showPagination) {\n    return null;\n  }\n\n  const url = page.getUrl();\n  const getUrl = (page: number) => `${url}${url.includes('?') ? '&' : '?'}page=${page}`;\n\n  return (\n    <nav aria-label=\"News List Pagination\">\n      <ul className=\"pagination\">\n        <li className={`page-item ${props.previous ? '' : 'disabled'}`}>\n          <Link to={props.previous ? getUrl(props.previousPage!) : '#'} className=\"page-link\" aria-label=\"Previous\">\n            <span aria-hidden=\"true\">&laquo;</span>\n            <span className=\"sr-only\">Previous</span>\n          </Link>\n        </li>\n        { props.pageNumbersArray.map((page, key) => (\n          <li key={key} className={`page-item ${page === props.currentPage ? 'active' : ''}`}>\n            <Link to={getUrl(page)} className=\"page-link\">{page}</Link>\n          </li>\n        )) }\n        <li className={`page-item ${props.next ? '' : 'disabled'}`}>\n          <Link to={props.next ? getUrl(props.nextPage!) : '#'} className=\"page-link\" aria-label=\"Next\">\n            <span aria-hidden=\"true\">&raquo;</span>\n            <span className=\"sr-only\">Next</span>\n          </Link>\n        </li>\n      </ul>\n    </nav>\n  );\n}\n","/*\n * Copyright 2019 Hippo B.V. (http://www.onehippo.com)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport axios from 'axios';\nimport { Link, RouteComponentProps } from 'react-router-dom';\nimport { BrComponent, BrPage, BrPageContext } from '@bloomreach/react-sdk';\nimport { Banner, Content, Menu, NewsList } from './components';\n\naxios.interceptors.request.use(config => ({ ...config, withCredentials: true }));\n\nexport default function App(props: RouteComponentProps) {\n  const configuration = {\n    httpClient: axios,\n    options: {\n      live: {\n        cmsBaseUrl: process.env.REACT_APP_LIVE_BR_BASE_URL!,\n        spaBaseUrl: process.env.REACT_APP_LIVE_SPA_BASE_URL,\n      },\n      preview: {\n        cmsBaseUrl: process.env.REACT_APP_PREVIEW_BR_BASE_URL!,\n        spaBaseUrl: process.env.REACT_APP_PREVIEW_SPA_BASE_URL,\n      },\n    },\n    request: {\n      path: `${props.location.pathname}${props.location.search}`,\n    },\n  };\n  const mapping = { Banner, Content, 'News List': NewsList };\n\n  return (\n    <BrPage configuration={configuration} mapping={mapping}>\n      <header>\n        <nav className=\"navbar navbar-expand-sm navbar-dark sticky-top bg-dark\" role=\"navigation\">\n          <div className=\"container\">\n            <BrPageContext.Consumer>\n              { page => (\n                <Link to={page!.getUrl('/')} className=\"navbar-brand\">\n                  { page!.getTitle() || 'brXM + React = ♥️ Update'}\n                </Link>\n              ) }\n            </BrPageContext.Consumer>\n            <div className=\"collapse navbar-collapse\">\n              <BrComponent path=\"menu\">\n                <Menu />\n              </BrComponent>\n            </div>\n          </div>\n        </nav>\n      </header>\n      <section className=\"container flex-fill pt-3\">\n        <BrComponent path=\"main\" />\n      </section>\n      <footer className=\"bg-dark text-light py-3\">\n        <div className=\"container clearfix\">\n          <div className=\"float-left pr-3\">&copy; Health Education England</div>\n          <div className=\"overflow-hidden\">\n            <BrComponent path=\"footer\" />\n          </div>\n        </div>\n      </footer>\n    </BrPage>\n  );\n}\n","/*\n * Copyright 2019 Hippo B.V. (http://www.onehippo.com)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport {\n  BrowserRouter,\n  Redirect,\n  Route,\n  Switch,\n} from 'react-router-dom';\n\nimport App from './App';\n\nReactDOM.render(\n  <BrowserRouter>\n    <Switch>\n      <Route path=\"/(.*)\" component={App} />\n      <Redirect to=\"/\" />\n    </Switch>\n  </BrowserRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}